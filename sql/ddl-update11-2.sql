select distinct find_word_request_word COLLATE utf8_bin, 1, (select timestamp from generic_log gl2, word_dictionary_search_log wdsl2 where gl2.id >= 1806716 and gl2.id = wdsl2.generic_log_id and wdsl2.find_word_request_word = wdsl.find_word_request_word order by gl2.id limit 1), (select timestamp from generic_log gl2, word_dictionary_search_log wdsl2 where gl2.id >= 1806716 and gl2.id = wdsl2.generic_log_id and wdsl2.find_word_request_word = wdsl.find_word_request_word order by gl2.id desc limit 1), null, 1 from word_dictionary_search_log wdsl, generic_log gl where wdsl.generic_log_id >= 1806716 and wdsl.find_word_request_word not in (select missing_word COLLATE utf8_bin from word_dictionary_search_missing_words_queue) and wdsl.find_word_result_result_size = 0 and gl.id = wdsl.generic_log_id;

insert into word_dictionary_search_missing_words_queue(missing_word, counter, first_appearance_timestamp, last_appearance_timestamp, lock_timestamp, priority) select distinct find_word_request_word COLLATE utf8_bin, 1, (select timestamp from generic_log gl2, word_dictionary_search_log wdsl2 where gl2.id >= 1806716 and gl2.id = wdsl2.generic_log_id and wdsl2.find_word_request_word = wdsl.find_word_request_word order by gl2.id limit 1), (select timestamp from generic_log gl2, word_dictionary_search_log wdsl2 where gl2.id >= 1806716 and gl2.id = wdsl2.generic_log_id and wdsl2.find_word_request_word = wdsl.find_word_request_word order by gl2.id desc limit 1), null, 1 from word_dictionary_search_log wdsl, generic_log gl where wdsl.generic_log_id >= 1806716 and wdsl.find_word_request_word not in (select missing_word COLLATE utf8_bin from word_dictionary_search_missing_words_queue) and wdsl.find_word_result_result_size = 0 and gl.id = wdsl.generic_log_id;